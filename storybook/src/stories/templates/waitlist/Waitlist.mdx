{/* Waitlist.mdx - Documentation */}
import { Meta, Canvas, Controls, Story } from '@storybook/blocks'
import * as WaitlistStories from './Waitlist.stories'
import * as WaitlistVariantStories from './WaitlistVariants.stories'

<Meta of={WaitlistStories} />

# Waitlist Templates

A collection of semantic waitlist/landing page templates. Built with pure semantic HTML - no utility classes required.

## Philosophy

These templates follow a **semantic-first** approach:

- **No classes** - Layout and styling are determined by semantic HTML structure
- **Data attributes** - Use `data-layout` to express layout intent
- **CSS inference** - Styles are applied based on element relationships using `:has()` selectors
- **Content separation** - All hardcoded content lives in Storybook stories, not templates

## Default Waitlist

The basic centered waitlist with email capture form.

<Canvas of={WaitlistStories.Default} />

<Controls of={WaitlistStories.Default} />

## Semantic Structure

```html
<!-- Header with semantic nav -->
<header>
  <nav>
    <strong>Brand</strong>
    <menu>
      <li><a href="/blog">Blog</a></li>
      <li><a href="#join">Join waitlist</a></li>
    </menu>
  </nav>
</header>

<!-- Main content area with optional background effect -->
<main data-background="gradient">
  <!-- Hero section - layout determined by data-layout attribute -->
  <section id="join" data-layout="side">
    <div>
      <small>Tagline</small>
      <h1>Headline</h1>
      <p>Description</p>

      <form>
        <input type="email" placeholder="Enter your email" required>
        <button type="submit">Join waitlist</button>
      </form>
    </div>

    <!-- Optional media: figure, img, or video -->
    <figure>
      <figcaption>example.ts</figcaption>
      <pre><code>// Your code here</code></pre>
    </figure>
  </section>
</main>

<!-- Semantic footer structure -->
<footer>
  <section>
    <div><!-- Brand info --></div>
    <article><!-- Link column --></article>
    <article><!-- Link column --></article>
    <article><!-- Newsletter form --></article>
  </section>
  <aside><!-- Copyright --></aside>
</footer>
```

## Layout Variants

Layout is controlled via the semantic `data-layout` attribute:

| Value | Description |
|-------|-------------|
| (none) | Centered layout, no media |
| `side` | Content and media side-by-side |
| `stacked` | Content stacked above media |
| `cards` | Grid of card elements |

### Side-by-Side Layouts

Content and media placed side-by-side. On mobile, stacks vertically.

#### Image Side

<Canvas of={WaitlistVariantStories.ImageSide} />

#### Code Side

<Canvas of={WaitlistVariantStories.CodeSide} />

#### Video Side

<Canvas of={WaitlistVariantStories.VideoSide} />

### Stacked Layouts

Content centered with media below.

#### Image Stacked

<Canvas of={WaitlistVariantStories.ImageStacked} />

#### Code Stacked

<Canvas of={WaitlistVariantStories.CodeStacked} />

#### Video Stacked

<Canvas of={WaitlistVariantStories.VideoStacked} />

## CSS Architecture

### Semantic Selectors

The CSS uses semantic selectors that infer layout from HTML structure:

```css
/* Side layout via data attribute */
section[data-layout="side"] {
  display: grid;
  grid-template-columns: 1fr 1fr;
}

/* Code blocks detected by structure */
section[data-layout] figure:has(pre) {
  background: var(--card);
  border: 1px solid var(--border);
}

/* Media elements get consistent styling */
section[data-layout] > img,
section[data-layout] > video {
  aspect-ratio: 16 / 9;
  border-radius: var(--radius);
}
```

### CSS Variables

The template uses OKLCH color variables for consistent theming:

```css
:root {
  /* Colors */
  --background: oklch(1.0000 0 0);
  --foreground: oklch(0.2686 0 0);
  --primary: oklch(0.7686 0.1647 70.0804);
  --primary-foreground: oklch(0 0 0);
  --muted: oklch(0.9846 0.0017 247.8389);
  --muted-foreground: oklch(0.5510 0.0234 264.3637);
  --border: oklch(0.9276 0.0058 264.5313);
  --card: oklch(1.0000 0 0);
  --card-foreground: oklch(0.2686 0 0);

  /* Typography */
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', sans-serif;

  /* Spacing */
  --radius: 0.375rem;
}
```

## Background Effects

The `data-background` attribute on `<main>` enables animated backgrounds:

- `gradient` - Animated gradient mesh
- `grid` - Interactive grid pattern
- `waves` - Wave animations
- `particles` - Floating particles

## MDX Components

The templates also export reusable MDX components:

### Layout.mdx

```jsx
import { Layout } from './Layout.mdx'

<Layout
  brand="MyApp"
  navItems={[{ label: 'Blog', href: '/blog' }]}
  footerSections={[...]}
  background="gradient"
>
  {/* Your content */}
</Layout>
```

### Waitlist.mdx

```jsx
import { Waitlist, CodeBlock, ImageMedia } from './Waitlist.mdx'

<Waitlist
  tagline="Coming Soon"
  headline="The future is here"
  description="Join the waitlist."
  ctaText="Get Access"
  layout="side"
  media={<CodeBlock filename="app.ts">// code</CodeBlock>}
/>
```

## Accessibility

- Semantic HTML5 elements: `header`, `nav`, `main`, `section`, `footer`, `article`, `aside`
- Proper heading hierarchy (h1 in main, h2/h3 in footer)
- Form inputs with placeholders and required attributes
- ARIA labels on icon-only links
- Skip-to-content patterns supported via `#join` anchor
